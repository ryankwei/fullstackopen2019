{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ryanw\\\\github\\\\fullstackopen2019\\\\part8\\\\library-frontend\\\\src\\\\components\\\\LoginForm.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useMutation } from '@apollo/client';\nimport { LOGIN } from '../queries';\n\nconst LoginForm = props => {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [login] = useMutation(LOGIN);\n\n  if (!props.show) {\n    return null;\n  }\n\n  const submitLogin = async event => {\n    event.preventDefault();\n    const {\n      data\n    } = await login({\n      variables: {\n        username,\n        password\n      }\n    });\n    props.setToken(data.login.value);\n    localStorage.setItem('user-token', token);\n    setUsername('');\n    setPassword('');\n  };\n\n  return React.createElement(\"form\", {\n    onSubmit: submitLogin,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, \"username:\", React.createElement(\"input\", {\n    value: username,\n    onChange: ({\n      target\n    }) => setUsername(target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }), \"password:\", React.createElement(\"input\", {\n    value: password,\n    onChange: ({\n      target\n    }) => setPassword(target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, \"login\"));\n};\n\nexport default LoginForm;","map":{"version":3,"sources":["C:/Users/ryanw/github/fullstackopen2019/part8/library-frontend/src/components/LoginForm.js"],"names":["React","useState","useEffect","useMutation","LOGIN","LoginForm","props","username","setUsername","password","setPassword","login","show","submitLogin","event","preventDefault","data","variables","setToken","value","localStorage","setItem","token","target"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,WAAT,QAA4B,gBAA5B;AAEA,SAASC,KAAT,QAAsB,YAAtB;;AAEA,MAAMC,SAAS,GAAIC,KAAD,IAAW;AAC3B,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BP,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACQ,QAAD,EAAWC,WAAX,IAA0BT,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACU,KAAD,IAAUR,WAAW,CAACC,KAAD,CAA3B;;AAEA,MAAG,CAACE,KAAK,CAACM,IAAV,EAAgB;AACd,WAAO,IAAP;AACD;;AAED,QAAMC,WAAW,GAAG,MAAOC,KAAP,IAAiB;AACnCA,IAAAA,KAAK,CAACC,cAAN;AAEA,UAAM;AAAEC,MAAAA;AAAF,QAAW,MAAML,KAAK,CAAC;AAC3BM,MAAAA,SAAS,EAAE;AAAEV,QAAAA,QAAF;AAAYE,QAAAA;AAAZ;AADgB,KAAD,CAA5B;AAGAH,IAAAA,KAAK,CAACY,QAAN,CAAeF,IAAI,CAACL,KAAL,CAAWQ,KAA1B;AACAC,IAAAA,YAAY,CAACC,OAAb,CAAqB,YAArB,EAAmCC,KAAnC;AACAd,IAAAA,WAAW,CAAC,EAAD,CAAX;AACAE,IAAAA,WAAW,CAAC,EAAD,CAAX;AACD,GAVD;;AAWA,SACE;AAAM,IAAA,QAAQ,EAAEG,WAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEE;AACE,IAAA,KAAK,EAAEN,QADT;AAEE,IAAA,QAAQ,EAAE,CAAC;AAAEgB,MAAAA;AAAF,KAAD,KAAef,WAAW,CAACe,MAAM,CAACJ,KAAR,CAFtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,eAOE;AACE,IAAA,KAAK,EAAEV,QADT;AAEE,IAAA,QAAQ,EAAE,CAAC;AAAEc,MAAAA;AAAF,KAAD,KAAeb,WAAW,CAACa,MAAM,CAACJ,KAAR,CAFtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,EAWC;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAXD,CADF;AAeD,CAnCD;;AAqCA,eAAed,SAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { useMutation } from '@apollo/client'\r\n\r\nimport { LOGIN } from '../queries'\r\n\r\nconst LoginForm = (props) => {\r\n  const [username, setUsername] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const [login] = useMutation(LOGIN)\r\n\r\n  if(!props.show) {\r\n    return null\r\n  }\r\n\r\n  const submitLogin = async (event) => {\r\n    event.preventDefault()\r\n\r\n    const { data } = await login({\r\n      variables: { username, password }\r\n    })\r\n    props.setToken(data.login.value)\r\n    localStorage.setItem('user-token', token)\r\n    setUsername('')\r\n    setPassword('')\r\n  }\r\n  return (\r\n    <form onSubmit={submitLogin}>\r\n      username:\r\n      <input\r\n        value={username}\r\n        onChange={({ target })=> setUsername(target.value)}\r\n      />\r\n      password:\r\n      <input\r\n        value={password}\r\n        onChange={({ target })=> setPassword(target.value)}\r\n      />\r\n     <button type='submit'>login</button>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default LoginForm\r\n"]},"metadata":{},"sourceType":"module"}